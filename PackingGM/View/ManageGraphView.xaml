<Page x:Class="PackingGM.View.ManageGraphView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:PackingGM.View"
      xmlns:local1="clr-namespace:PackingGM.View.Control"
      mc:Ignorable="d" 
      d:DesignHeight="450" d:DesignWidth="19200"
      Title="ManageGraphView"
      Style="{DynamicResource PageStyle}">

    <Grid>
        <ListView ItemsSource="{Binding ListGMs}">
            <ListView.View>
                <GridView>
                    <GridViewColumn Width="40">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ п/п" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Number}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    
                    <!-- Колонка для  Manufactory-->
                    <GridViewColumn Width="55">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ Пр-ва" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Manufactory.Number}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>

                    <!-- Колонка для AggregateType-->
                    <GridViewColumn Width="60">
                        <GridViewColumn.Header>
                            <TextBlock Text="Тип изделия" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding AggregateType.Name}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Contragent-->
                    <GridViewColumn Width="100">
                        <GridViewColumn.Header>
                            <TextBlock Text="Контрагент" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Contragent.Name}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Aggregate -->
                    <GridViewColumn Width="75">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ агрегата" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Aggregate.Name}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Order -->
                    <GridViewColumn Width="75">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ заказа" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Order.Number}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GM -->
                    <GridViewColumn Width="55">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ ГМ" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding GM.Number}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для SPU -->
                    <GridViewColumn Width="105">
                        <GridViewColumn.Header>
                            <TextBlock Text="Обозначение СПУ" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding SPU.Number}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для SPU -->
                    <GridViewColumn Width="115">
                        <GridViewColumn.Header>
                            <TextBlock Text="Наименование СПУ" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding SPU.Name, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Tara -->
                    <GridViewColumn Width="100">
                        <GridViewColumn.Header>
                            <TextBlock Text="Обозначение тары" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <local1:ComboTextBox SelectedItem="{Binding Tara.Number}"/>
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Tara -->
                    <GridViewColumn Width="115">
                        <GridViewColumn.Header>
                            <TextBlock Text="Наименование тары" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding Tara.Name, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для CountNeed -->
                    <GridViewColumn Width="75">
                        <GridViewColumn.Header>
                            <TextBlock Text="Кол-во потребность" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding SPUTara.CountNeed, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для CountGet -->
                    <GridViewColumn Width="70">
                        <GridViewColumn.Header>
                            <TextBlock Text="Кол-во получено" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding SPUTara.CountGet, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Dificit -->
                    <GridViewColumn Header="Дефицит" Width="55" DisplayMemberBinding="{Binding SPUTara.Deficit}"/>
                    
                    <!-- Колонка для DemindNumber -->
                    <GridViewColumn Width="90">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ требования" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.DemindNumber, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для DemindDate-->
                    <GridViewColumn Width="100">
                        <GridViewColumn.Header>
                            <TextBlock Text="Дата требования" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.DemindData, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDate1 -->
                    <GridViewColumn Width="95">
                        <GridViewColumn.Header>
                            <TextBlock Text="Плановый срок сдачи ГМ" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.Date1, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDate2 -->
                    <GridViewColumn Width="90">
                        <GridViewColumn.Header>
                            <TextBlock Text="Необходимый срок обеспечения" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.Date2, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDate3 -->
                    <GridViewColumn Width="95">
                        <GridViewColumn.Header>
                            <TextBlock Text="Обещаный срок обеспечения СМТС" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.DemindNumber, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDPrime4anie -->
                    <GridViewColumn Header="Примечание" Width="100">
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.Prime4anie, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDNackaldania -->
                    <GridViewColumn Width="70">
                        <GridViewColumn.Header>
                            <TextBlock Text="Накладная на сдачу ГМ в ООП" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.NackaldaiaNumber, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для GMDNackaldania -->
                    <GridViewColumn Width="70">
                        <GridViewColumn.Header>
                            <TextBlock Text="Дата накладной" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.NackaldaiaDate, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для SZ -->
                    <GridViewColumn Width="70">
                        <GridViewColumn.Header>
                            <TextBlock Text="Служебная записка на запуск ППО" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.NackaldaiaDate, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Что это -->
                    <GridViewColumn Width="65">
                        <GridViewColumn.Header>
                            <TextBlock Text="№ график сдачи ГМ (ПДО)" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.NackaldaiaDate, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                    <!-- Колонка для Резервное поле-->
                    <GridViewColumn Width="70">
                        <GridViewColumn.Header>
                            <TextBlock Text="Резервное поле" TextWrapping="Wrap"/>
                        </GridViewColumn.Header>
                        <GridViewColumn.CellTemplate>
                            <DataTemplate>
                                <TextBox Text="{Binding GM.RezervField, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </GridViewColumn.CellTemplate>
                    </GridViewColumn>
                </GridView>
            </ListView.View>
        </ListView>


        
    </Grid>
</Page>
